=================
plain identifiers
=================

fOo
f_0___
ü•∫
„ÅÇ„ÅÑ„ÅÜ„Åà„Åä

---

(source_file
  (identifier)
  (identifier)
  (identifier)
  (identifier))

============
method calls
============

A.b

e()
c?
d!()

true.false?

m1?.m2

puts(b)

a b 7

a!.b!.c!

a b.c

a(b(c()))

---

(source_file
  (call
    receiver: (constant)
    method: (identifier)
  )

  (call method: (identifier))
  (call method: (identifier))
  (call method: (identifier))

  (call
    receiver: (true)
    method: (identifier)
  )

  (call
    receiver: (call
      method: (identifier)
    )
    method: (identifier)
  )

  (call
    method: (identifier)
    arguments: (argument_list (identifier))
  )

  (call
    method: (identifier)
    arguments: (argument_list
      (call
        method: (identifier)
        arguments: (argument_list (integer))
      )
    )
  )

  (call
    receiver: (call
      receiver: (call
        method: (identifier)
      )
      method: (identifier)
    )
    method: (identifier)
  )

  (call
    method: (identifier)
    arguments: (argument_list
      (call
        receiver: (identifier)
        method: (identifier)
      )
    )
  )

  (call
    method: (identifier)
    arguments: (argument_list
      (call
        method: (identifier)
        arguments: (argument_list
          (call
            method: (identifier)
          )
        )
      )
    )
  )
)

====================================
method calls with multiple arguments
====================================

puts true, -1, nil

puts false,
  0

puts(true, false, nil)
puts(true, false, nil,)
puts(
  true,
  false,
  nil,
)

---
(source_file
  (call
    method: (identifier)
    arguments: (argument_list
      (true) (integer) (nil)
    )
  )

  (call
    method: (identifier)
    arguments: (argument_list
      (false) (integer)
    )
  )

  (call
    method: (identifier)
    arguments: (argument_list (true) (false) (nil))
  )
  (call
    method: (identifier)
    arguments: (argument_list (true) (false) (nil))
  )
  (call
    method: (identifier)
    arguments: (argument_list (true) (false) (nil))
  )
)

============
begin blocks
============

begin 1 end
begin;2;end

begin
  begin
  end
end
begin begin end end

begin
  1
rescue
  2
end

begin 3; rescue; 4 end

begin
  5; rescue a;
  6; end

begin
  7
rescue Exception; 8
end

begin 9
rescue err : FooError | BarError
end

---

(source_file
  (begin_block body: (integer))
  (begin_block body: (integer))

  (begin_block body: (begin_block))
  (begin_block body: (begin_block))

  (begin_block
    body: (integer)
    rescue: (rescue_block
      body: (integer)
    )
  )

  (begin_block
    body: (integer)
    rescue: (rescue_block
      body: (integer)
    )
  )

  (begin_block
    body: (integer)
    rescue: (rescue_block
      variable: (identifier)
      body: (integer)
    )
  )

  (begin_block
    body: (integer)
    rescue: (rescue_block
      type: (constant)
      body: (integer)
    )
  )

  (begin_block
    body: (integer)
    rescue: (rescue_block
      variable: (identifier)
      type: (union_type (constant) (constant))
    )
  )
)

==================
binary additive operators
==================

1 + 2.0

a &+ b! - C

D &-
  (E)

---

(source_file
  (call
    receiver: (integer)
    method: (identifier)
    arguments: (float)
  )

  (call
    receiver: (call
      receiver: (identifier)
      method: (identifier)
      arguments: (call
        method: (identifier)
      )
    )
    method: (identifier)
    arguments: (constant)
  )

  (call
    receiver: (constant)
    method: (identifier)
    arguments: (constant)
  )
)

===
unary additive operators
===

puts + 2
puts +2
puts+2
puts(+ 2)


a! - 1
b? -1
c-
1
d_ (- 2)

+-+0
+- 0.3

1-
+2
1-+ 2

---
(source_file
  (call
    receiver: (identifier)
    method: (identifier)
    arguments: (integer)
  )
  (call
    method: (identifier)
    arguments: (argument_list (integer))
  )
  (call
    receiver: (identifier)
    method: (identifier)
    arguments: (integer)
  )
  (call
    method: (identifier)
    arguments: (argument_list
      (call
        method: (identifier)
        receiver: (integer)
      )
    )
  )

  (call
    receiver: (call
      method: (identifier)
    )
    method: (identifier)
    arguments: (integer)
  )
  (call
    method: (identifier)
    arguments: (argument_list (integer))
  )
  (call
    receiver: (identifier)
    method: (identifier)
    arguments: (integer)
  )
  (call
    method: (identifier)
    arguments: (argument_list
      (call
        method: (identifier)
        receiver: (integer)
      )
    )
  )

  (call
    method: (identifier)
    receiver: (call
      method: (identifier)
      receiver: (integer)
    )
  )
  (call
    method: (identifier)
    receiver: (call
      method: (identifier)
      receiver: (float)
    )
  )

  (call
    receiver: (integer)
    method: (identifier)
    arguments: (integer)
  )
  (call
    receiver: (integer)
    method: (identifier)
    arguments: (call
      method: (identifier)
      receiver: (integer)
    )
  )
)
